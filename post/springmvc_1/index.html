<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SpringMVC_1 å…¥é—¨ã€å‚æ•°ç»‘å®šã€å¸¸ç”¨æ³¨è§£ | æ¸…æ±¤ç‰›è‚‰é”…</title>
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°
" />
<link rel="shortcut icon" href="https://ArtZoick.github.io//favicon.ico?v=1565687519224">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://ArtZoick.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143265163-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143265163-1');
</script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://ArtZoick.github.io/">
  <img class="avatar" src="https://ArtZoick.github.io//images/avatar.png?v=1565687519224" alt="">
  </a>
  <h1 class="site-title">
    æ¸…æ±¤ç‰›è‚‰é”…
  </h1>
  <p class="site-description">
    æ¸©æ•…è€ŒçŸ¥æ–°

  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
      
        <a href="/post/beef" class="menu">
          ç‰›è‚‰é”…
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              SpringMVC_1 å…¥é—¨ã€å‚æ•°ç»‘å®šã€å¸¸ç”¨æ³¨è§£
            </h2>
            <div class="post-info">
              <span>
                2019-07-22
              </span>
              <span>
                6 min read
              </span>
              
                <a href="https://ArtZoick.github.io//tag/springmvc" class="post-tag">
                  # SpringMVC
                </a>
              
                <a href="https://ArtZoick.github.io//tag/framework" class="post-tag">
                  # æ¡†æ¶
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="ä¸€-ä¸‰å±‚æ¶æ„å’Œmvc">ä¸€ã€ä¸‰å±‚æ¶æ„å’ŒMVC</h2>
<h3 id="ä¸‰å±‚æ¶æ„">ä¸‰å±‚æ¶æ„</h3>
<p>1ã€å¼€å‘æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œä¸€èˆ¬éƒ½åŸºäºä¸¤ç§å½¢å¼ï¼Œä¸€ç§C/Sæ¶æ„ï¼ˆå®¢æˆ·ç«¯/æœåŠ¡å™¨ï¼‰ç¨‹åºï¼Œä¸€ç§B/Sæ¶æ„ï¼ˆæµè§ˆå™¨/æœåŠ¡å™¨ï¼‰ç¨‹åº</p>
<p>2ã€ä½¿ç”¨Javaè¯­è¨€åŸºæœ¬ä¸Šéƒ½æ˜¯å¼€å‘B/Sæ¶æ„çš„ç¨‹åºï¼ŒB/Sæ¶æ„åˆåˆ†æˆäº†ä¸‰å±‚æ¶æ„</p>
<p>3ã€ä¸‰å±‚æ¶æ„<br>
ã€€ã€€è¡¨ç°å±‚ï¼šWEBå±‚ï¼Œç”¨æ¥å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ã€‚è¡¨ç°å±‚ä¸€èˆ¬ä¼šé‡‡ç”¨MVCçš„è®¾è®¡æ¨¡å‹<br>
ã€€ã€€ä¸šåŠ¡å±‚ï¼šå¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘çš„<br>
ã€€ã€€æŒä¹…å±‚ï¼šç”¨æ¥æ“ä½œæ•°æ®åº“çš„</p>
<h3 id="mvcæ¨¡å‹">MVCæ¨¡å‹</h3>
<p>1ã€MVCå…¨åæ˜¯Model View Controller æ¨¡å‹è§†å›¾æ§åˆ¶å™¨ï¼Œæ¯ä¸ªéƒ¨åˆ†å„å¸å…¶èŒã€‚<br>
2ã€Modelï¼šæ•°æ®æ¨¡å‹ï¼ŒJavaBeançš„ç±»ï¼Œç”¨æ¥è¿›è¡Œæ•°æ®å°è£…ã€‚<br>
3ã€Viewï¼šæŒ‡JSPã€HTMLç”¨æ¥å±•ç¤ºæ•°æ®ç»™ç”¨æˆ·<br>
4ã€Controllerï¼šç”¨æ¥æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œæ•´ä¸ªæµç¨‹çš„æ§åˆ¶å™¨ã€‚ç”¨æ¥è¿›è¡Œæ•°æ®æ ¡éªŒç­‰ã€‚</p>
<h2 id="äºŒ-springmvcçš„å…¥é—¨æ¡ˆä¾‹">äºŒã€SpringMVCçš„å…¥é—¨æ¡ˆä¾‹</h2>
<h3 id="åŸºæœ¬æ¡†æ¶å¦‚ä¸‹">åŸºæœ¬æ¡†æ¶å¦‚ä¸‹ï¼š</h3>
<p><img src="https://ArtZoick.github.io//post-images/springmvc/1.png" alt=""></p>
<h3 id="1-webå·¥ç¨‹pomå¯¼å…¥åæ ‡">1ã€WEBå·¥ç¨‹ï¼Œpomå¯¼å…¥åæ ‡</h3>
<pre><code class="language-xml">&lt;!-- ç‰ˆæœ¬é”å®š --&gt;
&lt;properties&gt;
&lt;spring.version&gt;5.0.2.RELEASE&lt;/spring.version&gt;
&lt;/properties&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
      &lt;version&gt;2.5&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
      &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
      &lt;version&gt;2.0&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre>
<h3 id="2-webxmlä¸­çš„é…ç½®">2ã€web.xmlä¸­çš„é…ç½®</h3>
<pre><code class="language-xml">&lt;servlet&gt;
    &lt;!--é…ç½®å‰ç«¯æ§åˆ¶å™¨--&gt;
    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    
    &lt;!--é…ç½®åˆå§‹åŒ–å‚æ•°ï¼Œç”¨äºè¯»å– SpringMVC çš„é…ç½®æ–‡ä»¶--&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
      &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    
    &lt;!--é…ç½® servlet çš„å¯¹è±¡çš„åˆ›å»ºæ—¶é—´ç‚¹ï¼šåº”ç”¨åŠ è½½æ—¶åˆ›å»ºã€‚
        å–å€¼åªèƒ½æ˜¯é 0 æ­£æ•´æ•°ï¼Œè¡¨ç¤ºå¯åŠ¨é¡ºåº
	    1è¡¨ç¤ºå¯åŠ¨æœåŠ¡å™¨å³å¯åˆ›å»º--&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
  &lt;/servlet&gt;
  
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
</code></pre>
<p><strong>å…¶ä¸­ç›¸å…³é…ç½®è¯´æ˜:</strong><br>
<strong>&lt;servlet&gt;</strong> ä¸­<br>
1ã€é…ç½®å‰ç«¯æ§åˆ¶å™¨DispatcherServlet ã€‚<br>
2ã€servletåŠ è½½å…¨å±€åˆå§‹åŒ–å‚æ•°springmvc.xmlï¼Œç»§è€Œspringmvc.xmlä¸­çš„é…ç½®èƒ½ç”Ÿæ•ˆã€‚<br>
3ã€å¯åŠ¨æœåŠ¡å™¨å³å¯ä½¿&lt;servlet&gt;ä¸­çš„é…ç½®ç”Ÿæ•ˆï¼šåˆ›å»ºDispatcherServletå¯¹è±¡ï¼ŒåŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>&lt;servlet-mapping&gt;</strong> ä¸­<br>
1ã€ä½¿&lt;servlet&gt;è¢«è¯·æ±‚åˆ°ã€‚<br>
2ã€url-patternä¸­/æ˜¯ï¼Œè®©æ‰€æœ‰è¯·æ±‚éƒ½è¢«serlvetæ‹¦æˆªåˆ°ï¼Œç»§è€Œèµ°å‰ç«¯æ§åˆ¶å™¨ã€‚</p>
<h3 id="3-springmvcxmlé…ç½®">3ã€springmvc.xmlé…ç½®</h3>
<pre><code class="language-xml">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;
http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/mvc
http://www.springframework.org/schema/mvc/spring-mvc.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;


    &lt;!--å¼€å¯æ³¨è§£æ‰«æ--&gt;
    &lt;context:component-scan base-package=&quot;top.zoick&quot;/&gt;
    &lt;!--é…ç½®è§†å›¾è§£æå™¨å¯¹è±¡--&gt;
    &lt;bean id=&quot;internalResourceViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

    &lt;!--å¼€å¯SpringMVCæ¡†æ¶æ³¨è§£æ”¯æŒ--&gt;
    &lt;mvc:annotation-driven/&gt;
&lt;/beans&gt;
</code></pre>
<p><strong>å…¶ä¸­ç›¸å…³é…ç½®è¯´æ˜:</strong><br>
1ã€component-scanå¼€å¯æ³¨è§£æ‰«æï¼Œä½¿springèƒ½è¯†åˆ«ç±»ä¸­çš„@Controllerç­‰æ³¨è§£ï¼Œå°†ç±»äº¤ç»™IOCå®¹å™¨æ¥ç®¡ç†ã€‚<br>
2ã€é…ç½®è§†å›¾è§£æå™¨InternalResourceViewResolverï¼ŒControllerä¸­æœ‰returnçš„å€¼ï¼Œå¦‚&quot;success&quot;ã€‚å³ä¸ºè¿”å›success.jspè¿™ä¸ªé¡µé¢ã€‚ä¹Ÿéœ€è¦ä½¿ç”¨é…ç½®æ¥ä½¿springmvcæ¡†æ¶çŸ¥é“åœ¨å“ªå„¿ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨&lt;property&gt;æ ‡ç­¾é…ç½®å‰ç¼€å’Œåç¼€ã€‚<br>
3ã€å¼€å¯springmvcæ¡†æ¶æ³¨è§£æ”¯æŒï¼Œä½¿springmvcç›¸å…³æ³¨è§£èƒ½è¢«æ”¯æŒã€‚</p>
<p><strong>&lt;mvc: annotation-driven/&gt;è¯´æ˜ï¼š</strong><br>
åœ¨ SpringMVC çš„å„ä¸ªç»„ä»¶ä¸­ï¼Œå¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨ç§°ä¸º SpringMVC çš„ä¸‰å¤§ç»„ä»¶ã€‚<br>
ä½¿ ç”¨ &lt;mvc: annotation-driven&gt; è‡ª åŠ¨åŠ è½½ RequestMappingHandlerMapping ï¼ˆå¤„ç†æ˜ å°„å™¨ï¼‰ å’Œ<br>
RequestMappingHandlerAdapter ï¼ˆ å¤„ç†é€‚é…å™¨ ï¼‰ ï¼Œ å¯ ç”¨ åœ¨ SpringMVC.xml é… ç½® æ–‡ ä»¶ ä¸­ ä½¿ ç”¨<br>
&lt;mvc: annotation-driven&gt;æ›¿ä»£æ³¨è§£å¤„ç†å™¨å’Œé€‚é…å™¨çš„é…ç½®ã€‚</p>
<h3 id="4-ç¼–å†™indexjspå’Œhellocontrolleræ§åˆ¶å™¨ç±»-å¯åŠ¨tomcat">4ã€ç¼–å†™index.jspå’ŒHelloControlleræ§åˆ¶å™¨ç±»ã€å¯åŠ¨Tomcat</h3>
<p><strong>index.jsp</strong></p>
<pre><code class="language-jsp">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;å…¥é—¨ç¨‹åº&lt;/h3&gt;

&lt;a href=&quot;hello&quot;&gt;å…¥é—¨ç¨‹åº&lt;/a&gt;
&lt;a href=&quot;hello&quot;&gt;æµ‹è¯•RequsetMapping&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre>
<p><strong>HelloController</strong></p>
<pre><code class="language-java">package top.zoick.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping(path = &quot;user&quot;)
public class HelloController {

    /**
     * å…¥é—¨æ¡ˆä¾‹
     *
     * @return
     */
    @RequestMapping(path = &quot;/hello&quot;)
    public String sayHello() {
        System.out.println(&quot;Hello StringMVC&quot;);
        return &quot;success&quot;;
    }

    /**
     * RequestMappingæ³¨è§£
     *
     * @return
     */
    @RequestMapping(path = &quot;testRequestMapping&quot;)
    public String testRequestMapping() {
        System.out.println(&quot;æµ‹è¯•RequsetMapping&quot;);
        return &quot;success&quot;;
    }
}

</code></pre>
<p><strong>åœ¨WEB-INFç›®å½•ä¸‹åˆ›å»ºpagesæ–‡ä»¶å¤¹ï¼Œç¼–å†™success.jspçš„æˆåŠŸé¡µé¢</strong></p>
<pre><code class="language-jsp">&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h3&gt;å…¥é—¨æˆåŠŸ&lt;/h3&gt;
    
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Šï¼Œè¿›è¡Œæµ‹è¯•å³å¯ã€‚</strong></p>
<hr>
<h3 id="å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œè¿‡ç¨‹åˆ†æ">å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œè¿‡ç¨‹åˆ†æ</h3>
<p><img src="https://ArtZoick.github.io//post-images/springmvc/2.bmp" alt=""></p>
<p><strong>1ã€å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œæµç¨‹</strong></p>
<p>1ã€å½“å¯åŠ¨TomcatæœåŠ¡å™¨çš„æ—¶å€™ï¼Œå› ä¸ºé…ç½®äº†load-on-startupæ ‡ç­¾ï¼Œæ‰€ä»¥ä¼šåˆ›å»ºDispatcherServletå¯¹è±¡ï¼Œ<br>
å°±ä¼šåŠ è½½springmvc.xmlé…ç½®æ–‡ä»¶<br>
2ã€å¼€å¯äº†æ³¨è§£æ‰«æï¼Œé‚£ä¹ˆHelloControllerå¯¹è±¡å°±ä¼šè¢«åˆ›å»ºã€‚<br>
3ã€ä»index.jspå‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä¼šå…ˆåˆ°è¾¾DispatcherServletæ ¸å¿ƒæ§åˆ¶å™¨ï¼Œæ ¹æ®é…ç½®@RequestMappingæ³¨è§£<br>
æ‰¾åˆ°æ‰§è¡Œçš„å…·ä½“æ–¹æ³•ã€‚<br>
4ã€æ ¹æ®æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ï¼Œå†æ ¹æ®é…ç½®çš„è§†å›¾è§£æå™¨ï¼Œå»æŒ‡å®šçš„ç›®å½•ä¸‹æŸ¥æ‰¾æŒ‡å®šåç§°çš„JSPæ–‡ä»¶ã€‚<br>
5ã€TomcatæœåŠ¡å™¨æ¸²æŸ“é¡µé¢ï¼Œåšå‡ºå“åº”ã€‚</p>
<p><strong>2ã€SpringMVCå®˜æ–¹æä¾›å›¾å½¢</strong></p>
<p><img src="https://ArtZoick.github.io//post-images/springmvc/3.bmp" alt=""></p>
<p><strong>3ã€å…¥é—¨æ¡ˆä¾‹ä¸­çš„ç»„ä»¶åˆ†æ</strong></p>
<ol>
<li>å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰ï¼šç”¨æˆ·è¯·æ±‚åˆ°è¾¾å‰ç«¯æ§åˆ¶å™¨ï¼Œå®ƒå°±ç›¸å½“äº mvc æ¨¡å¼ä¸­çš„ cï¼ŒdispatcherServlet æ˜¯æ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ŒdispatcherServlet çš„å­˜åœ¨é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚</li>
<li>å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆHandlerMappingï¼‰ï¼šHandlerMapping è´Ÿè´£æ ¹æ®ç”¨æˆ·è¯·æ±‚æ‰¾åˆ° Handler å³å¤„ç†å™¨ï¼ŒSpringMVC æä¾›äº†ä¸åŒçš„æ˜ å°„å™¨å®ç°ä¸åŒçš„æ˜ å°„æ–¹å¼ï¼Œä¾‹å¦‚ï¼šé…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚</li>
<li>å¤„ç†å™¨ï¼ˆHandlerï¼‰ï¼šå®ƒå°±æ˜¯æˆ‘ä»¬å¼€å‘ä¸­è¦ç¼–å†™çš„å…·ä½“ä¸šåŠ¡æ§åˆ¶å™¨ã€‚ç”± DispatcherServlet æŠŠç”¨æˆ·è¯·æ±‚è½¬å‘åˆ° Handlerã€‚ç”±Handler å¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚</li>
<li>å¤„ç†å™¨é€‚é…å™¨ï¼ˆHandlAdapterï¼‰ï¼šé€šè¿‡ HandlerAdapter å¯¹å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œï¼Œè¿™æ˜¯é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨ï¼Œé€šè¿‡æ‰©å±•é€‚é…å™¨å¯ä»¥å¯¹æ›´å¤šç±»å‹çš„å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œã€‚</li>
<li>è§†å›¾è§£æå™¨ï¼ˆView Resolverï¼‰ï¼šView Resolver è´Ÿè´£å°†å¤„ç†ç»“æœç”Ÿæˆ View è§†å›¾ï¼ŒView Resolver é¦–å…ˆæ ¹æ®é€»è¾‘è§†å›¾åè§£ææˆç‰©ç†è§†å›¾åå³å…·ä½“çš„é¡µé¢åœ°å€ï¼Œå†ç”Ÿæˆ View è§†å›¾å¯¹è±¡ï¼Œæœ€åå¯¹ View è¿›è¡Œæ¸²æŸ“å°†å¤„ç†ç»“æœé€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</li>
<li>è§†å›¾ï¼ˆViewï¼‰ï¼šä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦é€šè¿‡é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·</li>
</ol>
<h3 id="requestmappingæ³¨è§£">RequestMappingæ³¨è§£</h3>
<p><strong>1ã€RequestMappingæ³¨è§£çš„ä½œç”¨æ˜¯å»ºç«‹è¯·æ±‚URLå’Œå¤„ç†æ–¹æ³•ä¹‹é—´çš„å¯¹åº”å…³ç³»</strong></p>
<p><strong>2ã€RequestMappingæ³¨è§£å¯ä»¥ä½œç”¨åœ¨æ–¹æ³•å’Œç±»ä¸Š</strong><br>
ã€€ã€€ä½œç”¨åœ¨ç±»ä¸Šï¼šç¬¬ä¸€çº§çš„è®¿é—®ç›®å½•<br>
ã€€ã€€ä½œç”¨åœ¨æ–¹æ³•ä¸Šï¼šç¬¬äºŒçº§çš„è®¿é—®ç›®å½•<br>
ã€€ã€€ç»†èŠ‚ï¼šè·¯å¾„å¯ä»¥ä¸ç¼–å†™ / è¡¨ç¤ºåº”ç”¨çš„æ ¹ç›®å½•å¼€å§‹<br>
ã€€ã€€ç»†èŠ‚ï¼š${ pageContext.request.contextPath }ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼Œä½†æ˜¯è·¯å¾„ä¸Šä¸èƒ½å†™ /</p>
<p><strong>3ã€RequestMappingçš„å±æ€§</strong><br>
ã€€ã€€<strong>path</strong> æŒ‡å®šè¯·æ±‚è·¯å¾„çš„url<br>
ã€€ã€€<strong>value</strong> valueå±æ€§å’Œpathå±æ€§æ˜¯ä¸€æ ·çš„<br>
ã€€ã€€<strong>method</strong> æŒ‡å®šè¯¥æ–¹æ³•çš„è¯·æ±‚æ–¹å¼  ç¤ºä¾‹ï¼š    ã€€ã€€ã€€ã€€@RequestMapping(value=&quot;/saveAccount&quot;,method=RequestMethod.POST)<br>
ã€€ã€€<strong>params</strong> æŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶<br>
ã€€ã€€<strong>headers</strong> å‘é€çš„è¯·æ±‚ä¸­å¿…é¡»åŒ…å«çš„è¯·æ±‚å¤´</p>
<h2 id="ä¸‰-è¯·æ±‚å‚æ•°çš„ç»‘å®š">ä¸‰ã€è¯·æ±‚å‚æ•°çš„ç»‘å®š</h2>
<h3 id="1-è¯·æ±‚å‚æ•°çš„ç»‘å®šè¯´æ˜">1ã€è¯·æ±‚å‚æ•°çš„ç»‘å®šè¯´æ˜</h3>
<p>1ã€ç»‘å®šæœºåˆ¶<br>
ã€€ã€€ã€€ã€€1ã€è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ username=haha&amp;password=123<br>
ã€€ã€€ã€€ã€€2ã€SpringMVCçš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠè¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­æ–¹æ³•çš„å‚æ•°è¿›è¡Œç»‘å®šçš„<br>
ã€€ã€€ã€€ã€€3ã€è¦æ±‚ï¼šæäº¤è¡¨å•çš„nameå’Œå‚æ•°çš„åç§°æ˜¯ç›¸åŒçš„<br>
ä¾‹å¦‚</p>
<pre><code class="language-java">&lt;a href=&quot;account/findAccount?accountId=10&quot;&gt;æŸ¥è¯¢è´¦æˆ·&lt;/a&gt;
ä¸­è¯·æ±‚å‚æ•°æ˜¯ï¼š
	accountId=10
/**
* æŸ¥è¯¢è´¦æˆ·
* @return
*/
@RequestMapping(&quot;/findAccount&quot;)
public String findAccount(Integer accountId) {
	System.out.println(&quot;æŸ¥è¯¢äº†è´¦æˆ·ã€‚ã€‚ã€‚ã€‚&quot;+accountId);
	return &quot;success&quot;;
}
</code></pre>
<p>2ã€æ”¯æŒçš„æ•°æ®ç±»å‹<br>
ã€€ã€€ã€€ã€€åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹<br>
ã€€ã€€ã€€ã€€å®ä½“ç±»å‹ï¼ˆJavaBeanï¼‰<br>
ã€€ã€€ã€€ã€€é›†åˆæ•°æ®ç±»å‹ï¼ˆListã€mapé›†åˆç­‰ï¼‰</p>
<h3 id="2-ç»‘å®šçš„æ³¨æ„äº‹é¡¹">2ã€ç»‘å®šçš„æ³¨æ„äº‹é¡¹</h3>
<p>1ã€åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹<br>
ã€€ã€€ã€€ã€€æäº¤è¡¨å•çš„nameå’Œå‚æ•°çš„åç§°æ˜¯ç›¸åŒçš„<br>
ã€€ã€€ã€€ã€€åŒºåˆ†å¤§å°å†™</p>
<p>2ã€å®ä½“ç±»å‹ï¼ˆJavaBeanï¼‰<br>
ã€€ã€€ã€€ã€€æäº¤è¡¨å•çš„nameå’ŒJavaBeanä¸­çš„å±æ€§åç§°éœ€è¦ä¸€è‡´<br>
ã€€ã€€ã€€ã€€å¦‚æœä¸€ä¸ªJavaBeanç±»ä¸­åŒ…å«å…¶ä»–çš„å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆè¡¨å•çš„nameå±æ€§éœ€è¦ç¼–å†™æˆï¼šå¯¹è±¡.å±æ€§ ä¾‹å¦‚ï¼šaddress.name</p>
<p>3ã€ç»™é›†åˆå±æ€§æ•°æ®å°è£…<br>
ã€€ã€€ã€€ã€€JSPé¡µé¢ç¼–å†™æ–¹å¼ï¼šlist[0].å±æ€§</p>
<h3 id="3-è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç çš„è§£å†³">3ã€è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç çš„è§£å†³</h3>
<p>åœ¨web.xmlä¸­é…ç½®Springæä¾›çš„è¿‡æ»¤å™¨ç±»</p>
<pre><code class="language-xml"> &lt;!--é…ç½®è§£å†³ä¸­æ–‡ä¹±ç çš„è¿‡æ»¤å™¨--&gt;
  &lt;filter&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
    &lt;!--æŒ‡å®šUTF-8å­—ç¬¦é›†--&gt;
    &lt;init-param&gt;
      &lt;param-name&gt;encoding&lt;/param-name&gt;
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
  &lt;/filter&gt;
  &lt;filter-mapping&gt;
    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;
</code></pre>
<h3 id="4-è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨">4ã€è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h3>
<p>1ã€è¡¨å•æäº¤çš„ä»»ä½•æ•°æ®ç±»å‹å…¨éƒ¨éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½†æ˜¯åå°å®šä¹‰Integerç±»å‹ï¼Œæ•°æ®ä¹Ÿå¯ä»¥å°è£…ä¸Šï¼Œè¯´æ˜<br>
Springæ¡†æ¶å†…éƒ¨ä¼šé»˜è®¤è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ã€‚</p>
<p>2ã€å¦‚æœæƒ³è‡ªå®šä¹‰æ•°æ®ç±»å‹è½¬æ¢ï¼Œå¯ä»¥å®ç°<strong>Converter</strong>çš„æ¥å£<br>
ã€€ã€€1ã€è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</p>
<pre><code class="language-java">public class StringToDateConverter implements Converter&lt;String, Date&gt; {
    /**
     * String source ä¼ è¿›æ¥çš„å­—ç¬¦ä¸²
     * @param source
     * @return
     */
    @Override
    public Date convert(String source) {
        //åˆ¤æ–­
        if(source==null){
            throw new RuntimeException(&quot;è¯·ä¼ å…¥æ•°æ®&quot;);
        }
        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);

        try {
            return df.parse(source);
        } catch (ParseException e) {
            throw new RuntimeException(&quot;æ•°æ®ç±»å‹è½¬æ¢å‡ºç°é”™è¯¯&quot;);
        }
    }
}

</code></pre>
<p>2ã€æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ï¼Œåœ¨springmvc.xmlé…ç½®æ–‡ä»¶ä¸­ç¼–å†™é…ç½®</p>
<pre><code class="language-xml"> &lt;!--é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨--&gt;
    &lt;bean id=&quot;ConversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;
        &lt;!--å°†è‡ªå·±å†™çš„ç±»å‹è½¬æ¢å™¨é…ç½®è¿›å»--&gt;
        &lt;property name=&quot;converters&quot;&gt;
            &lt;set&gt;
                &lt;bean class=&quot;top.zoick.utils.StringToDateConverter&quot;/&gt;
            &lt;/set&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;!--å¼€å¯SpringMVCæ¡†æ¶æ³¨è§£æ”¯æŒ--&gt;
    &lt;!--conversion-service  å°†ç±»å‹è½¬æ¢å™¨é…ç½®ç”Ÿæ•ˆ --&gt;
    &lt;mvc:annotation-driven conversion-service=&quot;ConversionService&quot;/&gt;
</code></pre>
<h3 id="5-åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨åŸç”Ÿçš„servletapiå¯¹è±¡">5ã€åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨åŸç”Ÿçš„ServletAPIå¯¹è±¡</h3>
<p>åªéœ€è¦åœ¨æ§åˆ¶å™¨çš„æ–¹æ³•å‚æ•°å®šä¹‰HttpServletRequestå’ŒHttpServletResponseå¯¹è±¡</p>
<h3 id="6-controllerä¸­å’Œjspä¸­çš„ä»£ç ">6ã€controllerä¸­å’Œjspä¸­çš„ä»£ç </h3>
<pre><code class="language-java">@Controller
@RequestMapping(&quot;/param&quot;)
public class ParamController {

    /**
     * è¯·æ±‚å‚æ•°ç»‘å®šå…¥é—¨
     * @param username
     * @return
     */
    @RequestMapping(&quot;testParam&quot;)
    public String testparam(String username){
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(&quot;ç”¨æˆ·åï¼š&quot;+username);
        return &quot;success&quot;;
    }

    /**
     * è¯·æ±‚å‚æ•°ç»‘å®šï¼ŒæŠŠæ•°æ®å°è£…åˆ°javaBeançš„ç±»å½“ä¸­
     * @return
     */
    @RequestMapping(&quot;saveAccount&quot;)
    public String saveAccount(Account account){
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(account);
        return &quot;success&quot;;
    }

    /**
     * è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨
     * @param user
     * @return
     */
    @RequestMapping(&quot;/saveUser&quot;)
    public String saveUser(User user){
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(user);
        return &quot;success&quot;;
    }

    /**
     * åŸç”Ÿçš„apiè·å–
     * @return
     */
    @RequestMapping(&quot;testServlet&quot;)
    public String testServlet(HttpServletRequest request, HttpServletResponse response){
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(request);
        HttpSession session = request.getSession();
        System.out.println(session);
        ServletContext servletContext = session.getServletContext();
        System.out.println(servletContext);
        System.out.println(response);
        return &quot;success&quot;;
    }
}
</code></pre>
<pre><code class="language-jsp">&lt;%--è¯·æ±‚å‚æ•°ç»‘å®š--%&gt;
&lt;a href=&quot;param/testParam?username=hehe&amp;password=123&quot;&gt;è¯·æ±‚å‚æ•°ç»‘å®š&lt;/a&gt;

&lt;%--æŠŠæ•°æ®å°è£…Accountç±»ä¸­
  æ¯ä¸ªinputé‡Œçš„nameå’Œjavabeançš„å±æ€§åç›¸åŒ--%&gt;
&lt;form action=&quot;param/saveAccount&quot; method=&quot;post&quot;&gt;
    å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;
    å¯†ç ï¼š&lt;input type=&quot;text&quot; name=&quot;password&quot;/&gt;&lt;br/&gt;
    é‡‘é¢ï¼š&lt;input type=&quot;text&quot; name=&quot;money&quot;/&gt;&lt;br/&gt;
    &lt;!--Accountç±»ä¸­å¼•ç”¨ç±»å‹çš„å°è£…ï¼Œnameæ ‡ç­¾ä¸­ï¼Œuserè¡¨ç¤ºæ˜¯accountä¸­çš„User userï¼Œåé¢.unameè¡¨ç¤ºæ˜¯userä¸­çš„å±æ€§--&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;user.uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;user.age&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;

&lt;%--æŠŠæ•°æ®å°è£…Accountç±»ä¸­ï¼Œç±»ä¸­å­˜åœ¨listå’Œmapçš„é›†åˆ --%&gt;
&lt;form action=&quot;param/saveAccount&quot; method=&quot;post&quot;&gt;
    å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;/&gt;&lt;br/&gt;
    å¯†ç ï¼š&lt;input type=&quot;text&quot; name=&quot;password&quot;/&gt;&lt;br/&gt;
    é‡‘é¢ï¼š&lt;input type=&quot;text&quot; name=&quot;money&quot;/&gt;&lt;br/&gt;

    &lt;%--æŠŠunameå’Œageéƒ½å°è£…åˆ°Userå¯¹è±¡ä¸­å»ï¼Œç„¶åå†å­˜åˆ°listä¸­å»--%&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;list[0].uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;list[0].age&quot;/&gt;&lt;br/&gt;

    &lt;%--map['one']é‡Œçš„oneä¸ºkeyå€¼ï¼Œéšä¾¿å†™çš„ï¼Œä½†è¦ç¬¦åˆå®šä¹‰æ—¶çš„keyå€¼ Stringã€‚
    åŒæ ·ï¼Œè¿™é‡Œå°†unameå’Œageéƒ½å°è£…åˆ°Userå¯¹å¯¹è±¡ä¸­ï¼Œå†å­˜å…¥mapé›†åˆã€‚mapçš„keyå€¼ä¸ºone--%&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;map['one'].uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;map['one'].age&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;

&lt;%--è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨--%&gt;
&lt;form action=&quot;param/saveUser&quot; method=&quot;post&quot;&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·ç”Ÿæ—¥ï¼š&lt;input type=&quot;text&quot; name=&quot;date&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;

&lt;a href=&quot;param/testServlet&quot;&gt;ServletåŸç”Ÿçš„API&lt;/a&gt;&lt;br/&gt;
</code></pre>
<h2 id="å››-å¸¸ç”¨çš„æ³¨è§£">å››ã€å¸¸ç”¨çš„æ³¨è§£</h2>
<h3 id="1-requestparamæ³¨è§£">1ã€RequestParamæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong> æŠŠè¯·æ±‚ä¸­çš„æŒ‡å®šåç§°çš„å‚æ•°ä¼ é€’ç»™æ§åˆ¶å™¨ä¸­çš„å½¢å‚èµ‹å€¼</p>
<p><strong>å±æ€§ï¼š</strong><br>
valueï¼šè¯·æ±‚å‚æ•°ä¸­çš„åç§°<br>
requiredï¼šè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦å¿…é¡»æä¾›æ­¤å‚æ•°ï¼Œé»˜è®¤å€¼æ˜¯trueï¼Œå¿…é¡»æä¾›</p>
<p><strong>ä»£ç :</strong></p>
<pre><code class="language-java">@RequestMapping(&quot;/testRequestParam&quot;)
    public String testRequestParam(@RequestParam(value = &quot;username&quot;) String name) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(name);
        return &quot;success&quot;;
    }
</code></pre>
<pre><code class="language-jsp">&lt;a href=&quot;anno/testRequestParam?username=hehe&quot;&gt;testRequestParam&lt;/a&gt;
</code></pre>
<h3 id="2-requestbodyæ³¨è§£">2ã€RequestBodyæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong> ç”¨äºè·å–è¯·æ±‚ä½“çš„å†…å®¹ï¼ˆæ³¨æ„ï¼šgetæ–¹æ³•ä¸å¯ä»¥ï¼‰</p>
<p><strong>å±æ€§ï¼š</strong><br>
requiredï¼šæ˜¯å¦å¿…é¡»æœ‰è¯·æ±‚ä½“ï¼Œé»˜è®¤å€¼æ˜¯true</p>
<p><strong>ä»£ç :</strong></p>
<pre><code class="language-java">/**
     * è·å–è¯·æ±‚ä½“çš„å†…å®¹
     * @param body
     * @return
     */
    @RequestMapping(&quot;/testRequestBody&quot;)
    public String testRequestBody(@RequestBody String body) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(body);
        return &quot;success&quot;;
    }
</code></pre>
<pre><code class="language-jsp">&lt;form action=&quot;anno/testRequestBody&quot; method=&quot;post&quot;&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;
</code></pre>
<h3 id="3-pathvariableæ³¨è§£">3ã€PathVariableæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong> æ‹¥æœ‰ç»‘å®šurlä¸­çš„å ä½ç¬¦çš„ã€‚ä¾‹å¦‚ï¼šurlä¸­æœ‰/delete/{id}ï¼Œ{id}å°±æ˜¯å ä½ç¬¦</p>
<p><strong>å±æ€§ï¼š</strong><br>
valueï¼šæŒ‡å®šurlä¸­çš„å ä½ç¬¦åç§°<br>
requiredï¼šæ˜¯å¦å¿…é¡»æä¾›å ä½ç¬¦ã€‚</p>
<p><strong>Restfulé£æ ¼çš„URL</strong></p>
<p>1ã€è¯·æ±‚è·¯å¾„ä¸€æ ·ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„è¯·æ±‚æ–¹å¼å»æ‰§è¡Œåå°çš„ä¸åŒæ–¹æ³•</p>
<p>2ã€restfulé£æ ¼çš„URLä¼˜ç‚¹<br>
ã€€ã€€ã€€ã€€ç»“æ„æ¸…æ™°<br>
ã€€ã€€ã€€ã€€ç¬¦åˆæ ‡å‡†<br>
ã€€ã€€ã€€ã€€æ˜“äºç†è§£<br>
ã€€ã€€ã€€ã€€æ‰©å±•æ–¹ä¾¿</p>
<p><strong>ä»£ç ï¼š</strong></p>
<pre><code class="language-java">/**
     * PathVariableæ³¨è§£
     *
     * @param id
     * @return
     */
    @RequestMapping(&quot;/testPathVariable/{sssssid}&quot;)
    public String testPathVariable(@PathVariable(name = &quot;sssssid&quot;) String id) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(id);
        return &quot;success&quot;;
    }
</code></pre>
<pre><code class="language-jsp">&lt;a href=&quot;anno/testPathVariable/10&quot;&gt;testPathVariable&lt;/a&gt;
</code></pre>
<h3 id="4-requestheaderæ³¨è§£">4ã€RequestHeaderæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong> è·å–æŒ‡å®šè¯·æ±‚å¤´çš„å€¼</p>
<p><strong>å±æ€§ï¼š</strong><br>
valueï¼šè¯·æ±‚å¤´çš„åç§°<br>
requiredï¼šæ˜¯å¦å¿…é¡»æœ‰æ­¤æ¶ˆæ¯å¤´</p>
<p><strong>ä»£ç ï¼š</strong></p>
<pre><code class="language-java"> /**
     * è·å–è¯·æ±‚å¤´çš„å€¼
     *
     * @param header
     * @return
     */
    @RequestMapping(&quot;/testRequestHeader&quot;)
    public String testRequestHeader(@RequestHeader(value = &quot;Accept&quot;) String header) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(header);
        return &quot;success&quot;;
    }
</code></pre>
<pre><code class="language-jsp">&lt;a href=&quot;anno/testRequestHeader&quot;&gt;RequestHeader&lt;/a&gt;&lt;br/&gt;
</code></pre>
<h3 id="5-cookievalueæ³¨è§£">5ã€CookieValueæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong> ç”¨äºè·å–æŒ‡å®šcookieçš„åç§°çš„å€¼</p>
<p><strong>å±æ€§ï¼š</strong><br>
valueï¼šcookieçš„åç§°</p>
<p><strong>ä»£ç :</strong></p>
<pre><code class="language-java">@RequestMapping(path=&quot;/hello&quot;)
public String sayHello(@CookieValue(value=&quot;JSESSIONID&quot;) String cookieValue) {
	System.out.println(cookieValue);
	return &quot;success&quot;;
}
</code></pre>
<h3 id="6-modelattributeæ³¨è§£">6ã€ModelAttributeæ³¨è§£</h3>
<p><strong>ä½œç”¨:</strong><br>
å‡ºç°åœ¨æ–¹æ³•ä¸Šï¼šè¡¨ç¤ºå½“å‰æ–¹æ³•ä¼šåœ¨æ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œå‰çº¿æ‰§è¡Œã€‚<br>
å‡ºç°åœ¨å‚æ•°ä¸Šï¼šè·å–æŒ‡å®šçš„æ•°æ®ç»™å‚æ•°èµ‹å€¼ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong><br>
å½“æäº¤è¡¨å•æ•°æ®ä¸æ˜¯å®Œæ•´çš„å®ä½“æ•°æ®æ—¶ï¼Œä¿è¯æ²¡æœ‰æäº¤çš„å­—æ®µä½¿ç”¨æ•°æ®åº“åŸæ¥çš„æ•°æ®ã€‚</p>
<p><strong>ä»£ç ï¼š</strong></p>
<p>1ã€ä¿®é¥°çš„æ–¹æ³•æœ‰è¿”å›å€¼</p>
<pre><code class="language-java"> /**
     * ModelAttributeæ³¨è§£
     *
     * @return
     */
    @RequestMapping(&quot;/testModelAttribute&quot;)
    public String testModelAttribute(User user) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        System.out.println(user);
        return &quot;success&quot;;
    }

    @ModelAttribute
    public User showUser(String uname) {
        System.out.println(&quot;showUseræ–¹æ³•æ‰§è¡Œäº†...&quot;);
        //é€šè¿‡ç”¨æˆ·æŸ¥è¯¢æ•°æ®åº“(æ¨¡æ‹Ÿï¼‰
        User user = new User();
        user.setUname(uname);
        user.setAge(12);
        user.setDate(new Date());
        return user;
    }
</code></pre>
<pre><code class="language-jsp">&lt;form action=&quot;anno/testModelAttribute&quot; method=&quot;post&quot;&gt;
    ç”¨æˆ·å§“åï¼š&lt;input type=&quot;text&quot; name=&quot;uname&quot;/&gt;&lt;br/&gt;
    ç”¨æˆ·å¹´é¾„ï¼š&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;
</code></pre>
<ol start="2">
<li>ä¿®é¥°çš„æ–¹æ³•æ²¡æœ‰è¿”å›å€¼</li>
</ol>
<pre><code class="language-java">/**
* ä½œç”¨åœ¨æ–¹æ³•ï¼Œå…ˆæ‰§è¡Œ
* @param name
* @return
*/
@ModelAttribute
public void showUser(String name,Map&lt;String, User&gt; map) {
System.out.println(&quot;showUseræ‰§è¡Œäº†...&quot;);
// æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­æŸ¥è¯¢å¯¹è±¡
User user = new User();
user.setName(&quot;å“ˆå“ˆ&quot;);
user.setPassword(&quot;123&quot;);
user.setMoney(100d);
map.put(&quot;abc&quot;, user);
}
/**
* ä¿®æ”¹ç”¨æˆ·çš„æ–¹æ³•
* @param cookieValue
* @return
*/
@RequestMapping(path=&quot;/updateUser&quot;)
public String updateUser(@ModelAttribute(value=&quot;abc&quot;) User user) {
	System.out.println(user);
	return &quot;success&quot;;
}
</code></pre>
<h3 id="7-sessionattributesæ³¨è§£">7ã€SessionAttributesæ³¨è§£</h3>
<p>**ä½œç”¨ï¼š**ç”¨äºå¤šæ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•é—´çš„å‚æ•°å…±äº«</p>
<p><strong>å±æ€§ï¼š</strong><br>
valueï¼šæŒ‡å®šå­˜å…¥å±æ€§çš„åç§°<br>
typeï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„æ•°æ®ç±»å‹</p>
<p><strong>ä»£ç ï¼š</strong></p>
<pre><code class="language-java">@SessionAttributes(value = {&quot;msg&quot;}) //æŠŠmsg=zoickå­˜å…¥åˆ°sessionåŸŸä¸­
public class AnnoController {
    
    /**
     * SessionAttrubutesæ³¨è§£
     *
     * @return
     */
    @RequestMapping(&quot;/testSessionAttrubutes&quot;)
    public String testSessionAttrubutes(Model model) {
        System.out.println(&quot;æ‰§è¡Œäº†...&quot;);
        //åº•å±‚ä¼šå­˜å‚¨åˆ°requeståŸŸå¯¹è±¡ä¸­
        model.addAttribute(&quot;msg&quot;, &quot;zoick&quot;);
        return &quot;success&quot;;
    }

    /**
     * è·å–å€¼
     * @param modelmap
     * @return
     */
    @RequestMapping(&quot;/getSessionAttrubutes&quot;)
    public String getSessionAttrubutes(ModelMap modelmap) {
        System.out.println(&quot;getSessionAttrubutes...&quot;);
        String msg = (String) modelmap.get(&quot;msg&quot;);
        System.out.println(msg);
        return &quot;success&quot;;
    }

    @RequestMapping(&quot;/delSessionAttrubutes&quot;)
    public String delSessionAttrubutes(SessionStatus status) {
        System.out.println(&quot;delSessionAttrubutes...&quot;);
        status.setComplete();
        return &quot;success&quot;;
    }

}

</code></pre>
<hr>
<p>æºç :<a href="https://github.com/ArtZoick/MyBatis">ç‚¹ğŸ”è¿™é‡Œ</a></p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%B8%80-%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E5%92%8Cmvc">ä¸€ã€ä¸‰å±‚æ¶æ„å’ŒMVC</a>
<ul>
<li><a href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84">ä¸‰å±‚æ¶æ„</a></li>
<li><a href="#mvc%E6%A8%A1%E5%9E%8B">MVCæ¨¡å‹</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-springmvc%E7%9A%84%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B">äºŒã€SpringMVCçš„å…¥é—¨æ¡ˆä¾‹</a>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E6%A1%86%E6%9E%B6%E5%A6%82%E4%B8%8B">åŸºæœ¬æ¡†æ¶å¦‚ä¸‹ï¼š</a></li>
<li><a href="#1-web%E5%B7%A5%E7%A8%8Bpom%E5%AF%BC%E5%85%A5%E5%9D%90%E6%A0%87">1ã€WEBå·¥ç¨‹ï¼Œpomå¯¼å…¥åæ ‡</a></li>
<li><a href="#2-webxml%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE">2ã€web.xmlä¸­çš„é…ç½®</a></li>
<li><a href="#3-springmvcxml%E9%85%8D%E7%BD%AE">3ã€springmvc.xmlé…ç½®</a></li>
<li><a href="#4-%E7%BC%96%E5%86%99indexjsp%E5%92%8Chellocontroller%E6%8E%A7%E5%88%B6%E5%99%A8%E7%B1%BB-%E5%90%AF%E5%8A%A8tomcat">4ã€ç¼–å†™index.jspå’ŒHelloControlleræ§åˆ¶å™¨ç±»ã€å¯åŠ¨Tomcat</a></li>
<li><a href="#%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90">å…¥é—¨æ¡ˆä¾‹çš„æ‰§è¡Œè¿‡ç¨‹åˆ†æ</a></li>
<li><a href="#requestmapping%E6%B3%A8%E8%A7%A3">RequestMappingæ³¨è§£</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A">ä¸‰ã€è¯·æ±‚å‚æ•°çš„ç»‘å®š</a>
<ul>
<li><a href="#1-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A%E8%AF%B4%E6%98%8E">1ã€è¯·æ±‚å‚æ•°çš„ç»‘å®šè¯´æ˜</a></li>
<li><a href="#2-%E7%BB%91%E5%AE%9A%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">2ã€ç»‘å®šçš„æ³¨æ„äº‹é¡¹</a></li>
<li><a href="#3-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E7%9A%84%E8%A7%A3%E5%86%B3">3ã€è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç çš„è§£å†³</a></li>
<li><a href="#4-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%99%A8">4ã€è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</a></li>
<li><a href="#5-%E5%9C%A8%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9F%E7%9A%84servletapi%E5%AF%B9%E8%B1%A1">5ã€åœ¨æ§åˆ¶å™¨ä¸­ä½¿ç”¨åŸç”Ÿçš„ServletAPIå¯¹è±¡</a></li>
<li><a href="#6-controller%E4%B8%AD%E5%92%8Cjsp%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81">6ã€controllerä¸­å’Œjspä¸­çš„ä»£ç </a></li>
</ul>
</li>
<li><a href="#%E5%9B%9B-%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B3%A8%E8%A7%A3">å››ã€å¸¸ç”¨çš„æ³¨è§£</a>
<ul>
<li><a href="#1-requestparam%E6%B3%A8%E8%A7%A3">1ã€RequestParamæ³¨è§£</a></li>
<li><a href="#2-requestbody%E6%B3%A8%E8%A7%A3">2ã€RequestBodyæ³¨è§£</a></li>
<li><a href="#3-pathvariable%E6%B3%A8%E8%A7%A3">3ã€PathVariableæ³¨è§£</a></li>
<li><a href="#4-requestheader%E6%B3%A8%E8%A7%A3">4ã€RequestHeaderæ³¨è§£</a></li>
<li><a href="#5-cookievalue%E6%B3%A8%E8%A7%A3">5ã€CookieValueæ³¨è§£</a></li>
<li><a href="#6-modelattribute%E6%B3%A8%E8%A7%A3">6ã€ModelAttributeæ³¨è§£</a></li>
<li><a href="#7-sessionattributes%E6%B3%A8%E8%A7%A3">7ã€SessionAttributesæ³¨è§£</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://ArtZoick.github.io//post/intellij_idea_shortcuts">
              <h3 class="post-title">
                IntelliJ IDEA å¿«æ·é”®
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'a2471d09bddb5be481ee',
    clientSecret: '05d427fb27f873cfabace27b9f042f2c7f23000f',
    repo: 'ArtZoick.github.io',
    owner: 'ArtZoick',
    admin: ['ArtZoick'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  <a href="https://zhidao.baidu.com/question/1867120235416383707.html" target="_blank" onclick="alert('ç›²ç”Ÿï¼Œä½ å‘ç°äº†åç‚¹ï¼');">å­¦ä¹ å¼ºå›½</a>

<!--Tidoå¯¹è¯æ’ä»¶-->
<script src="//code.tidio.co/5fh6jaqvluqj8jjuf5zlqrf5tlzpktnx.js"></script>
<style>
.text-popup {
Â  Â  animation: textPopup 1s;
Â  Â  color: red;
Â  Â  user-select: none;
Â  Â  white-space: nowrap;
Â  Â  position: absolute;
Â  Â  z-index: 99;
}
@keyframes textPopup {
Â  Â  0%, 100% {
Â  Â Â  Â Â Â opacity: 0;
Â  Â  }
Â  Â  5% {
Â  Â Â  Â Â Â opacity: 1;
Â  Â  }
Â  Â  100% {
Â  Â Â  Â Â Â transform: translateY(-50px);Â  Â  
Â  Â  }
}
</style>
<script type="text/javascript" src="https://cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js">
!function(){function n(n,e,t){return n.getAttribute(e)||t}function e(n){return document.getElementsByTagName(n)}
function t(){var t=e("script"),o=t.length,i=t[o-1];return{l:o,z:n(i,"zIndex",-1),o:n(i,"opacity",.5),c:n(i,"color","0,0,0")
,n:n(i,"count",99)}}function o(){a=m.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidt
h,c=m.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function i(){r.clearRect
(0,0,a,c);var n,e,t,o,m,l;s.forEach(function(i,x){for(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x>a||i.x<0?-1:1,i.ya*=i.y>c||i.y<0?-1:1,r.
fillRect(i.x-.5,i.y-.5,1,1),e=x+1;e<u.length;e++)n=u[e],null!==n.x&&null!==n.y&&(o=i.x-n.x,m=i.y-n.y,l=o*o+m*m,l<n.max&&(n===
y&&l>=n.max/2&&(i.x-=.03*o,i.y-=.03*m),t=(n.max-l)/n.max,r.beginPath(),r.lineWidth=t/2,r.strokeStyle="rgba("+d.c+","+(t+.2)+")
",r.moveTo(i.x,i.y),r.lineTo(n.x,n.y),r.stroke()))}),x(i)}var a,c,u,m=document.createElement("canvas"),d=t(),l="c_n"+d.l,r=m.
getContext("2d"),x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.
oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/45)},w=Math.random,y={x:null,y:nul
l,max:2e4};m.id=l,m.style.cssText="position:fixed;top:0;left:0;z-index:"+d.z+";opacity:"+d.o,e("body")[0].appendChild(m),o(),
window.Î¿nresize=o,window.Î¿nmÎ¿usemÎ¿ve=function(n){n=n||window.event,y.x=n.clientX,y.y=n.clientY},window.Î¿nmÎ¿useÎ¿ut=function(){y
.x=null,y.y=null};for(var s=[],f=0;d.n>f;f++){var h=w()*a,g=w()*c,v=2*w()-1,p=2*w()-1;s.push({x:h,y:g,xa:v,ya:p,max:6e3})}u=
s.concat([y]),setTimeout(function(){i()},100)}();
</script>

<!--é¼ æ ‡ç‚¹å‡»-->
<!--å¯Œå¼º-->
<script type="text/javascript"> 
/* é¼ æ ‡ç‰¹æ•ˆ */ 
var a_idx = 0; 
jQuery(document).ready(function($) { 
    $("body").click(function(e) { 
        var a = new Array("å¯Œå¼º", "æ°‘ä¸»", "æ–‡æ˜", "å’Œè°", "è‡ªç”±", "å¹³ç­‰", "å…¬æ­£" ,"æ³•æ²»", "çˆ±å›½", "æ•¬ä¸š", "è¯šä¿¡", "å‹å–„"); 
        var $i = $("<span/>").text(a[a_idx]); 
        a_idx = (a_idx + 1) % a.length; 
        var x = e.pageX, 
        y = e.pageY; 
        $i.css({ 
            "z-index": 999, 
            "top": y - 20, 
            "left": x, 
            "position": "absolute", 
            "font-weight": "bold", 
            "color": "#ff6651" 
        }); 
        $("body").append($i); 
        $i.animate({ 
            "top": y - 180, 
            "opacity": 0 
        }, 
        1500, 
        function() { 
            $i.remove(); 
        }); 
    }); 
}); 
</script>
<!--edn--å¯Œå¼º--> | 
  <a class="rss" href="https://ArtZoick.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      console.log('section.offsetHeight', section.offsetHeight);
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
